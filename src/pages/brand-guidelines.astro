---
import Layout from '~/layouts/PageLayout.astro';
import HeroText from '~/components/widgets/HeroText.astro';

// Use stable public URLs (avoid hashed /_astro asset URLs changing between builds)
const logoDarkPng = '/brand/logo-dark.png';
const logoLightPng = '/brand/logo-light.png';
const logoDarkSvg = '/brand/logo-dark.svg';
const logoLightSvg = '/brand/logo-light.svg';

const metadata = {
  title: 'Brand Guidelines | UXHM',
  description: 'UXHM brand guidelines: logos, colours, typography, and usage notes.',
};

const colors = [
  { group: 'Brand', name: 'Primary (Electric Teal)', hex: '#00A79D', token: '--aw-color-primary' },
  { group: 'Brand', name: 'Secondary (Charcoal)', hex: '#212529', token: '--aw-color-secondary' },
  { group: 'Brand', name: 'Text (Default)', hex: '#343A40', token: '--aw-color-text-default' },
  { group: 'Brand', name: 'Text (Muted)', hex: '#64748B', token: '--aw-color-text-muted' },
  { group: 'Brand', name: 'Background (Page)', hex: '#FFFFFF', token: '--aw-color-bg-page' },

  { group: 'Functional', name: 'Success Green', hex: '#28c76f' },
  { group: 'Functional', name: 'Warning Amber', hex: '#ff9f43' },
  { group: 'Functional', name: 'Error Red', hex: '#ea5455' },
  { group: 'Functional', name: 'Info Blue', hex: '#4834d4' }
];
---

<Layout metadata={metadata}>
  <HeroText
    tagline="UXHM"
    title="Brand Guidelines"
    subtitle="Logos, colours, typography, and practical usage rules."
  />

  <section class="mx-auto max-w-5xl px-4 pb-14">
    <div class="prose prose-slate max-w-none dark:prose-invert">
      <h2>Logos</h2>
      <p>Use the SVG where possible (best quality). Use PNG for situations where SVG isn’t supported.</p>
    </div>

    <div class="mt-6 grid gap-6 md:grid-cols-2">
      <div class="rounded-2xl border border-gray-200 bg-white p-5 shadow-sm dark:border-slate-700 dark:bg-slate-900">
        <div class="text-sm font-semibold text-gray-900 dark:text-slate-100">Logo — Dark</div>
        <div class="mt-4 rounded-2xl bg-white p-8 flex items-center justify-center">
          <img src={logoDarkPng} alt="UXHM logo (dark)" class="h-16 md:h-20 w-auto" loading="lazy" />
        </div>
        <div class="mt-4 flex flex-wrap gap-3">
          <a class="btn btn-secondary" href={logoDarkSvg} download>Download SVG</a>
          <a class="btn btn-secondary" href={logoDarkPng} download>Download PNG</a>
        </div>
        <div class="mt-4 text-sm text-muted">
          Use on light backgrounds.
        </div>
      </div>

      <div class="rounded-2xl border border-gray-200 bg-white p-5 shadow-sm dark:border-slate-700 dark:bg-slate-900">
        <div class="text-sm font-semibold text-gray-900 dark:text-slate-100">Logo — Light</div>
        <div class="mt-4 rounded-2xl bg-[#212529] p-8 flex items-center justify-center">
          <img src={logoLightPng} alt="UXHM logo (light)" class="h-16 md:h-20 w-auto" loading="lazy" />
        </div>
        <div class="mt-4 flex flex-wrap gap-3">
          <a class="btn btn-secondary" href={logoLightSvg} download>Download SVG</a>
          <a class="btn btn-secondary" href={logoLightPng} download>Download PNG</a>
        </div>
        <div class="mt-4 text-sm text-muted">
          Use on dark / charcoal backgrounds.
        </div>
      </div>
    </div>

    <div class="mt-10 rounded-2xl border border-gray-200 bg-white p-6 shadow-sm dark:border-slate-700 dark:bg-slate-900">
      <div class="prose prose-slate max-w-none dark:prose-invert">
        <h3>Logo usage rules (quick)</h3>
        <ul>
          <li><strong>Don’t stretch</strong> or skew the logo.</li>
          <li>Keep clear space around the logo (at least the height of the “U” letter).</li>
          <li>Prefer the teal accent as-is; avoid changing logo colours.</li>
        </ul>
      </div>
    </div>

    <div class="mt-14">
      <div class="prose prose-slate max-w-none dark:prose-invert">
        <h2>Colours</h2>
        <p>Click any colour to copy the hex code. Brand tokens are defined in <code>src/assets/styles/tailwind.css</code>.</p>
      </div>

      <div class="mt-6 grid gap-4 md:grid-cols-2">
        {colors.map((c) => (
          <button
            type="button"
            class="group w-full text-left rounded-2xl border border-gray-200 bg-white p-5 shadow-sm transition hover:-translate-y-[1px] hover:shadow-md dark:border-slate-700 dark:bg-slate-900"
            data-copy-hex={c.hex}
          >
            <div class="flex items-center gap-4">
              <div class="h-12 w-12 rounded-xl border border-gray-200 dark:border-slate-700" style={`background:${c.hex}`}></div>
              <div class="min-w-0">
                <div class="flex items-center justify-between gap-3">
                  <div class="font-semibold text-gray-900 dark:text-slate-100 truncate">{c.name}</div>
                  <span class="text-xs rounded-full border border-gray-200 px-2 py-1 text-muted dark:border-slate-700">{c.group}</span>
                </div>
                <div class="mt-1 text-sm text-muted">
                  <span class="font-mono">{c.hex}</span>
                  {c.token && <span class="opacity-60"> · {c.token}</span>}
                  <span class="ml-2 opacity-0 group-hover:opacity-100 transition">(click to copy)</span>
                </div>
              </div>
            </div>
          </button>
        ))}
      </div>

      <div class="mt-10 rounded-2xl border border-gray-200 bg-white p-6 shadow-sm dark:border-slate-700 dark:bg-slate-900">
        <div class="prose prose-slate max-w-none dark:prose-invert">
          <h3>Contrast notes</h3>
          <ul>
            <li>Primary teal (#00A79D) works well for buttons and links.</li>
            <li>Charcoal (#212529) is the preferred dark background.</li>
            <li>For accessibility, ensure text has sufficient contrast on teal backgrounds (white text is recommended).</li>
          </ul>
        </div>
      </div>
    </div>

    <div class="mt-14">
      <div class="prose prose-slate max-w-none dark:prose-invert">
        <h2>Typography</h2>
        <p>The website uses:</p>
        <ul>
          <li><strong>Poppins</strong> for headings</li>
          <li><strong>Lato</strong> for body text</li>
        </ul>
      </div>

      <div class="mt-6 grid gap-6 md:grid-cols-2">
        <div class="rounded-2xl border border-gray-200 bg-white p-6 shadow-sm dark:border-slate-700 dark:bg-slate-900">
          <div class="text-sm text-muted">Heading font (Poppins)</div>
          <div class="mt-2 font-heading text-3xl text-gray-900 dark:text-white">Build trust. Get calls.</div>
          <div class="mt-3 font-heading text-xl text-gray-900 dark:text-white">Simple, fast, high‑converting websites.</div>
        </div>
        <div class="rounded-2xl border border-gray-200 bg-white p-6 shadow-sm dark:border-slate-700 dark:bg-slate-900">
          <div class="text-sm text-muted">Body font (Lato)</div>
          <div class="mt-2 text-page">
            UXHM helps UK service businesses turn searches into enquiries with clear messaging, strong trust signals, and conversion‑first design.
          </div>
          <div class="mt-3 text-muted">
            Keep copy short. Make the CTA obvious. Remove friction.
          </div>
        </div>
      </div>
    </div>

    <div class="mt-14 rounded-2xl border border-gray-200 bg-white p-6 shadow-sm dark:border-slate-700 dark:bg-slate-900">
      <div class="prose prose-slate max-w-none dark:prose-invert">
        <h2>Downloads</h2>
        <p>If you need the full kit:</p>
        <ul>
          <li><a href={logoDarkSvg} download>Logo Dark (SVG)</a></li>
          <li><a href={logoDarkPng} download>Logo Dark (PNG)</a></li>
          <li><a href={logoLightSvg} download>Logo Light (SVG)</a></li>
          <li><a href={logoLightPng} download>Logo Light (PNG)</a></li>
        </ul>
      </div>
    </div>

  <script>
    // Click-to-copy for colour swatches
    (function () {
      function copy(text) {
        if (navigator.clipboard && window.isSecureContext) {
          return navigator.clipboard.writeText(text);
        }
        const ta = document.createElement('textarea');
        ta.value = text;
        ta.style.position = 'fixed';
        ta.style.left = '-9999px';
        document.body.appendChild(ta);
        ta.focus();
        ta.select();
        try {
          document.execCommand('copy');
          return Promise.resolve();
        } finally {
          document.body.removeChild(ta);
        }
      }

      document.addEventListener('click', async (e) => {
        const btn = e.target && e.target.closest ? e.target.closest('[data-copy-hex]') : null;
        if (!btn) return;
        const hex = btn.getAttribute('data-copy-hex');
        if (!hex) return;
        try {
          await copy(hex);
          const prev = btn.getAttribute('data-copied-prev') || '';
          btn.setAttribute('data-copied-prev', btn.innerText);
          // Small, non-intrusive feedback
          btn.querySelectorAll('.font-mono').forEach((el) => (el.textContent = `${hex} ✓ copied`));
          setTimeout(() => {
            btn.querySelectorAll('.font-mono').forEach((el) => (el.textContent = hex));
          }, 900);
        } catch {
          // no-op
        }
      });
    })();
  </script>
  </section>
</Layout>
